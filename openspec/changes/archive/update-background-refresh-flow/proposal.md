# 变更：优化后台数据刷新流程

## Why / 为什么要做
- 自动同步与其他后台刷新路径（`check_auto_sync` → `auto_sync_completed`）即使在主窗口已隐藏时仍会调用 `load_config()`，导致所有标签页与控件被重复构建。
- 在隐藏状态下渲染 UI 不仅浪费 CPU/GPU，还会与同步线程争用资源，并可能在用户重新打开启动器时造成闪烁或状态不一致。
- 期望行为是：后台只把最新数据写入内存或磁盘，当用户重新打开界面时再一次性重新渲染，既保证及时性又能加快恢复速度。

## What Changes / 计划做什么
- 提供仅限后台使用的配置刷新路径，在窗口隐藏时只更新内存缓存/历史记录，跳过 `update_ui_with_config`。
- 维护 `pending_ui_refresh` 状态，记录最新配置快照与时间，以便下次 `showEvent` 触发时集中渲染一次。
- 确保恢复显示时先从快照（或磁盘）加载，再渲染并清理待刷新标记，避免重复刷新。
- 为延迟刷新增加日志/埋点，便于追踪性能问题。

## Impact / 影响范围
- 受影响规范：`launcher-background-refresh`（新增能力）
- 受影响代码：`gui/main_window.py`（自动同步回调、缓存工具、显示/隐藏事件）；可能涉及 `utils/config_manager.py`（快照访问）及相关测试/性能脚本。
